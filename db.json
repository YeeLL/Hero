{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/landscape/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/blank.gif","path":"fancybox/blank.gif","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","path":"fancybox/fancybox_loading.gif","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","path":"fancybox/fancybox_loading@2x.gif","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","path":"fancybox/fancybox_overlay.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","path":"fancybox/fancybox_sprite.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","path":"fancybox/fancybox_sprite@2x.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","path":"fancybox/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","path":"fancybox/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/js/script.js","path":"js/script.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","path":"fancybox/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","path":"css/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","path":"css/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","path":"css/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","path":"fancybox/helpers/jquery.fancybox-buttons.css","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","path":"fancybox/helpers/fancybox_buttons.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","path":"fancybox/helpers/jquery.fancybox-buttons.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","path":"fancybox/helpers/jquery.fancybox-media.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","path":"fancybox/helpers/jquery.fancybox-thumbs.css","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","path":"fancybox/helpers/jquery.fancybox-thumbs.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","path":"css/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","path":"css/fonts/fontawesome-webfont.svg","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/images/banner.jpg","path":"css/images/banner.jpg","modified":0,"renderable":1}],"Cache":[{"_id":"themes/landscape/.npmignore","hash":"58d26d4b5f2f94c2d02a4e4a448088e4a2527c77","modified":1478967681000},{"_id":"themes/landscape/Gruntfile.js","hash":"71adaeaac1f3cc56e36c49d549b8d8a72235c9b9","modified":1478967681000},{"_id":"themes/landscape/LICENSE","hash":"c480fce396b23997ee23cc535518ffaaf7f458f8","modified":1478967681000},{"_id":"themes/landscape/README.md","hash":"c7e83cfe8f2c724fc9cac32bd71bb5faf9ceeddb","modified":1478967681000},{"_id":"themes/landscape/_config.yml","hash":"fb8c98a0f6ff9f962637f329c22699721854cd73","modified":1478967681000},{"_id":"themes/landscape/package.json","hash":"85358dc34311c6662e841584e206a4679183943f","modified":1478967681000},{"_id":"source/_posts/permission-0.md","hash":"974b11b0bee9d9b17c2d937ccb97132b2c30c051","modified":1479015026000},{"_id":"source/_posts/Permission.md","hash":"0ef7ae473636b14622d6a9697326f09e38332708","modified":1478962860000},{"_id":"themes/landscape/languages/default.yml","hash":"3083f319b352d21d80fc5e20113ddf27889c9d11","modified":1478967681000},{"_id":"themes/landscape/languages/fr.yml","hash":"84ab164b37c6abf625473e9a0c18f6f815dd5fd9","modified":1478967681000},{"_id":"themes/landscape/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1478967681000},{"_id":"themes/landscape/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1478967681000},{"_id":"themes/landscape/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1478967681000},{"_id":"themes/landscape/languages/zh-CN.yml","hash":"ca40697097ab0b3672a80b455d3f4081292d1eed","modified":1478967681000},{"_id":"themes/landscape/languages/zh-TW.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1478967681000},{"_id":"themes/landscape/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1478967681000},{"_id":"themes/landscape/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1478967681000},{"_id":"themes/landscape/layout/index.ejs","hash":"aa1b4456907bdb43e629be3931547e2d29ac58c8","modified":1478967681000},{"_id":"themes/landscape/layout/layout.ejs","hash":"f155824ca6130080bb057fa3e868a743c69c4cf5","modified":1478967681000},{"_id":"themes/landscape/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1478967681000},{"_id":"themes/landscape/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1478967681000},{"_id":"themes/landscape/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1478967681000},{"_id":"themes/landscape/scripts/fancybox.js","hash":"aa411cd072399df1ddc8e2181a3204678a5177d9","modified":1478967681000},{"_id":"themes/landscape/layout/_partial/after-footer.ejs","hash":"82a30f81c0e8ba4a8af17acd6cc99e93834e4d5e","modified":1478967681000},{"_id":"themes/landscape/layout/_partial/archive-post.ejs","hash":"c7a71425a946d05414c069ec91811b5c09a92c47","modified":1478967681000},{"_id":"themes/landscape/layout/_partial/archive.ejs","hash":"931aaaffa0910a48199388ede576184ff15793ee","modified":1478967681000},{"_id":"themes/landscape/layout/_partial/article.ejs","hash":"c4c835615d96a950d51fa2c3b5d64d0596534fed","modified":1478967681000},{"_id":"themes/landscape/layout/_partial/footer.ejs","hash":"93518893cf91287e797ebac543c560e2a63b8d0e","modified":1478967681000},{"_id":"themes/landscape/layout/_partial/google-analytics.ejs","hash":"f921e7f9223d7c95165e0f835f353b2938e40c45","modified":1478967681000},{"_id":"themes/landscape/layout/_partial/head.ejs","hash":"4fe8853e864d192701c03e5cd3a5390287b90612","modified":1478967681000},{"_id":"themes/landscape/layout/_partial/header.ejs","hash":"c21ca56f419d01a9f49c27b6be9f4a98402b2aa3","modified":1478967681000},{"_id":"themes/landscape/layout/_partial/mobile-nav.ejs","hash":"e952a532dfc583930a666b9d4479c32d4a84b44e","modified":1478967681000},{"_id":"themes/landscape/layout/_partial/sidebar.ejs","hash":"930da35cc2d447a92e5ee8f835735e6fd2232469","modified":1478967681000},{"_id":"themes/landscape/layout/_widget/archive.ejs","hash":"beb4a86fcc82a9bdda9289b59db5a1988918bec3","modified":1478967681000},{"_id":"themes/landscape/layout/_widget/category.ejs","hash":"dd1e5af3c6af3f5d6c85dfd5ca1766faed6a0b05","modified":1478967681000},{"_id":"themes/landscape/layout/_widget/recent_posts.ejs","hash":"0d4f064733f8b9e45c0ce131fe4a689d570c883a","modified":1478967681000},{"_id":"themes/landscape/layout/_widget/tag.ejs","hash":"2de380865df9ab5f577f7d3bcadf44261eb5faae","modified":1478967681000},{"_id":"themes/landscape/layout/_widget/tagcloud.ejs","hash":"b4a2079101643f63993dcdb32925c9b071763b46","modified":1478967681000},{"_id":"themes/landscape/source/css/_extend.styl","hash":"222fbe6d222531d61c1ef0f868c90f747b1c2ced","modified":1478967681000},{"_id":"themes/landscape/source/css/_variables.styl","hash":"5e37a6571caf87149af83ac1cc0cdef99f117350","modified":1478967681000},{"_id":"themes/landscape/source/css/style.styl","hash":"a70d9c44dac348d742702f6ba87e5bb3084d65db","modified":1478967681000},{"_id":"themes/landscape/source/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1478967681000},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1478967681000},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1478967681000},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1478967681000},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1478967681000},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1478967681000},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","hash":"aaa582fb9eb4b7092dc69fcb2d5b1c20cca58ab6","modified":1478967681000},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","hash":"9e0d51ca1dbe66f6c0c7aefd552dc8122e694a6e","modified":1478967681000},{"_id":"themes/landscape/source/js/script.js","hash":"2876e0b19ce557fca38d7c6f49ca55922ab666a1","modified":1478967681000},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","hash":"d08b03a42d5c4ba456ef8ba33116fdbb7a9cabed","modified":1478967681000},{"_id":"themes/landscape/layout/_partial/post/category.ejs","hash":"c6bcd0e04271ffca81da25bcff5adf3d46f02fc0","modified":1478967681000},{"_id":"themes/landscape/layout/_partial/post/date.ejs","hash":"6197802873157656e3077c5099a7dda3d3b01c29","modified":1478967681000},{"_id":"themes/landscape/layout/_partial/post/gallery.ejs","hash":"3d9d81a3c693ff2378ef06ddb6810254e509de5b","modified":1478967681000},{"_id":"themes/landscape/layout/_partial/post/nav.ejs","hash":"16a904de7bceccbb36b4267565f2215704db2880","modified":1478967681000},{"_id":"themes/landscape/layout/_partial/post/tag.ejs","hash":"2fcb0bf9c8847a644167a27824c9bb19ac74dd14","modified":1478967681000},{"_id":"themes/landscape/layout/_partial/post/title.ejs","hash":"2f275739b6f1193c123646a5a31f37d48644c667","modified":1478967681000},{"_id":"themes/landscape/source/css/_partial/archive.styl","hash":"db15f5677dc68f1730e82190bab69c24611ca292","modified":1478967681000},{"_id":"themes/landscape/source/css/_partial/article.styl","hash":"10685f8787a79f79c9a26c2f943253450c498e3e","modified":1478967681000},{"_id":"themes/landscape/source/css/_partial/comment.styl","hash":"79d280d8d203abb3bd933ca9b8e38c78ec684987","modified":1478967681000},{"_id":"themes/landscape/source/css/_partial/footer.styl","hash":"e35a060b8512031048919709a8e7b1ec0e40bc1b","modified":1478967681000},{"_id":"themes/landscape/source/css/_partial/header.styl","hash":"85ab11e082f4dd86dde72bed653d57ec5381f30c","modified":1478967681000},{"_id":"themes/landscape/source/css/_partial/highlight.styl","hash":"bf4e7be1968dad495b04e83c95eac14c4d0ad7c0","modified":1478967681000},{"_id":"themes/landscape/source/css/_partial/mobile.styl","hash":"a399cf9e1e1cec3e4269066e2948d7ae5854d745","modified":1478967681000},{"_id":"themes/landscape/source/css/_partial/sidebar-aside.styl","hash":"890349df5145abf46ce7712010c89237900b3713","modified":1478967681000},{"_id":"themes/landscape/source/css/_partial/sidebar-bottom.styl","hash":"8fd4f30d319542babfd31f087ddbac550f000a8a","modified":1478967681000},{"_id":"themes/landscape/source/css/_partial/sidebar.styl","hash":"404ec059dc674a48b9ab89cd83f258dec4dcb24d","modified":1478967681000},{"_id":"themes/landscape/source/css/_util/grid.styl","hash":"0bf55ee5d09f193e249083602ac5fcdb1e571aed","modified":1478967681000},{"_id":"themes/landscape/source/css/_util/mixin.styl","hash":"44f32767d9fd3c1c08a60d91f181ee53c8f0dbb3","modified":1478967681000},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1478967681000},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1478967681000},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1478967681000},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1478967681000},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1478967681000},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","hash":"dc3645529a4bf72983a39fa34c1eb9146e082019","modified":1478967681000},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","hash":"294420f9ff20f4e3584d212b0c262a00a96ecdb3","modified":1478967681000},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1478967681000},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"47da1ae5401c24b5c17cc18e2730780f5c1a7a0c","modified":1478967681000},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1478967681000},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","hash":"46fcc0194d75a0ddac0a038aee41b23456784814","modified":1478967681000},{"_id":"themes/landscape/source/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1478967681000},{"_id":"public/2016/11/12/Permission/index.html","hash":"4e498d9494e8f8c8de53fc63455e980513c888a5","modified":1479015051751},{"_id":"public/archives/index.html","hash":"504eb1dfb0b03ad49b51d9b1b031dd27993c57e0","modified":1479015095502},{"_id":"public/archives/2016/index.html","hash":"4ecf756e69ce340c7257d73087f3dda31c24a13a","modified":1479015095502},{"_id":"public/archives/2016/11/index.html","hash":"2a36fb4bac6fbb229200c8ff1da49d42a92d6766","modified":1479015095502},{"_id":"public/index.html","hash":"31efdab28e9376b095cdc902e37c66d932cc4b6f","modified":1479015095502},{"_id":"public/2016/11/13/permission-0/index.html","hash":"75fec322a0b0d348b709199b30c8210eb0c1d30e","modified":1479015095501},{"_id":"public/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1479014563917},{"_id":"public/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1479014563917},{"_id":"public/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1479014563918},{"_id":"public/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1479014563918},{"_id":"public/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1479014563918},{"_id":"public/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1479014563918},{"_id":"public/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1479014563918},{"_id":"public/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1479014563918},{"_id":"public/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1479014563918},{"_id":"public/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1479014563918},{"_id":"public/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1479014564428},{"_id":"public/fancybox/jquery.fancybox.css","hash":"aaa582fb9eb4b7092dc69fcb2d5b1c20cca58ab6","modified":1479014564434},{"_id":"public/js/script.js","hash":"2876e0b19ce557fca38d7c6f49ca55922ab666a1","modified":1479014564434},{"_id":"public/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1479014564434},{"_id":"public/fancybox/helpers/jquery.fancybox-buttons.js","hash":"dc3645529a4bf72983a39fa34c1eb9146e082019","modified":1479014564434},{"_id":"public/fancybox/helpers/jquery.fancybox-media.js","hash":"294420f9ff20f4e3584d212b0c262a00a96ecdb3","modified":1479014564434},{"_id":"public/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1479014564434},{"_id":"public/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"47da1ae5401c24b5c17cc18e2730780f5c1a7a0c","modified":1479014564434},{"_id":"public/css/style.css","hash":"fffb3966bf36057a325498aba9ce3a2ea7bd79e1","modified":1479014564436},{"_id":"public/fancybox/jquery.fancybox.pack.js","hash":"9e0d51ca1dbe66f6c0c7aefd552dc8122e694a6e","modified":1479014564436},{"_id":"public/fancybox/jquery.fancybox.js","hash":"d08b03a42d5c4ba456ef8ba33116fdbb7a9cabed","modified":1479014564436},{"_id":"public/css/fonts/fontawesome-webfont.svg","hash":"46fcc0194d75a0ddac0a038aee41b23456784814","modified":1479014564438},{"_id":"public/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1479014564438}],"Category":[],"Data":[],"Page":[],"Post":[{"title":"permission","date":"2016-11-13T05:19:27.000Z","_content":"# Android 动态权限管理\n\n从Android 6.0（API级别23）开始，用户在应用运行时（而不是在安装应用时）向应用授予权限。 此方法简化了应用安装过程，因为用户在安装或更新应用时不需要授予权限。 它还给用户更多的控制应用程序的功能; 例如，用户可以选择给摄像机应用访问摄像机而不是设备位置。 用户可以随时通过转到应用的设置屏幕撤消权限。<!--more-->\n\n### 随着Android6.0的普及，我们不得不做的一件事情就是关于运行时权限管理的事情。\n\n## 1.什么叫运行时权限管理？\n比如说，我们在app中打开相机的预览的功能的时候，我们的手机就会弹出一个提示框，提醒用户是否允许我们的app使用相机（也就是提供相机的权限）。这就相机权限就叫运行时权限，简而言之就是我们当我们需要某一项功能的时候所需要的权限。\n\n## 2.Android6.0之后我们为什么需要管理动态权限？\n就如上面所说的例子，当我们的用户不小心或者就是不想给相机权限时，我们的app就不能正常工作。所以这个时候我们就需要给用户一些友好的提示，或者最少不让app崩溃。这个时候我们就需要管理运行时权限了。\n\n\n## 3.在Android中如何加入运行权限管理？[API地址](https://developer.android.com/reference/android/support/v4/content/PermissionChecker.html)  \n运行时权限管理在代码中主要依靠几个类和几个方法来完成  \n1.PermissionChecker类（最主要的类）  \n主要提供检测权限的方法 \n\n2.PermissionChecker.checkSelfPermission(context,permission）（主要的方法）   \n用于检测当前是否有permission这个权限。                               \n主要返回3个值:(是个int类型的值)   \n* PERMISSION_GRANTED(0 (0x00000000)):有此权限   \n* PERMISSION_DENIED（-1 (0xffffffff)）: 没有此权限  \n* PERMISSION_DENIED_APP_OP （-2 (0xfffffffe)）:  权限被拒绝，因为不允许应用操作   \n\n3.context.shouldShowRequestPermissionRationale(permission)  \n这个方法主要用来获取是否应该显示具有请求权限的理由的UI。具体就是，这个方法会告诉你是否可以通过请求来显示友好的权限申请框。它会返回一个boolean值。   \n＊ true：表示可以申请。\n＊ false：表示不可以申请。（如果不能申请，就可以自己做一些事情）\n\n4.requestPermissions(@NonNull String[] permissions, int requestCode)      \n申请请求一组权限，此方法可以一次申请多个权限，通过OnRequestPermissionsResultCallback方法获得用户操作后的权限状态\n\n5.nRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults)这个方法用于接受申请权限后用户对权限操作的结果，可以看出来结果和权限时以一对的形式出现的。比如说permission[0] 对应grantResults[0],以此类推。\ngrantRsults的值也是3种类型和2中返回的类型是相同的，我们只需要对不同的类型进行判断就行了。\n\n## 4.说再多都不如看代码\n\n```java    \n  /**\n     * Activity\n     * 判断权限\n     * 主要判断权限6.0以上的机型\n     * 需要在调用此方法的类中实现 onRequestPermissionsResult\n     */\n    @TargetApi(Build.VERSION_CODES.M)\n    public static void openMyActivityPermission(Activity context, String permission,int requestCode){\n        int result = PermissionChecker.checkSelfPermission(context,permission);\n        if (result == PermissionChecker.PERMISSION_GRANTED){\n            //有权限\n        }else {\n            //没有权限\n            //判断能否显示系统弹框\n            boolean isShow = context.shouldShowRequestPermissionRationale(permission);\n            if (!isShow){\n                //不能显示系统弹框，这里只能手动提示用户\n            }else {\n                //帮用户弹出系统弹框\n                context.requestPermissions(new String[]{permission},requestCode);\n            }\n        }\n    }\n    \n    //用户选择后回调\n    @Override\n    public void onRequestPermissionsResult(int requestCode,@NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode,permissions, grantResults);\n    }   \n```\n\n### 5.再说运行时权限管理\n这个运行时权限管理是goole6.0的加入的一个东西。但是在碎片化极其严重的android中，不可能只有6.0的手机。所以仅仅靠6.0是不现实的。所以我们还要更多的考虑6.0以下的权限适配问题。由于各个厂家的深度定制（鸡肋～～～），很多厂家都自己实现了运行时权限提醒等一系列温馨的功能（各种奇葩～～），所以这时就需要我们开发者自己想办法解决这些问题。   \n\n比如说6.0以下我们需要相机这个权限，但是用户在安装app的时候没有勾选相机权限，或者当弹出权限询问框的时候用户点击了禁止我们该怎么办。目前我知道的就只有try catch来解决这个问题。\n\n\n对于运行时权限问题就到这里，此文仅当记录自己遇到的坑～～～如有问题请予以纠正。谢谢。","source":"_posts/permission-0.md","raw":"---\ntitle: permission\ndate: 2016-11-13 13:19:27\ntags:\n---\n# Android 动态权限管理\n\n从Android 6.0（API级别23）开始，用户在应用运行时（而不是在安装应用时）向应用授予权限。 此方法简化了应用安装过程，因为用户在安装或更新应用时不需要授予权限。 它还给用户更多的控制应用程序的功能; 例如，用户可以选择给摄像机应用访问摄像机而不是设备位置。 用户可以随时通过转到应用的设置屏幕撤消权限。<!--more-->\n\n### 随着Android6.0的普及，我们不得不做的一件事情就是关于运行时权限管理的事情。\n\n## 1.什么叫运行时权限管理？\n比如说，我们在app中打开相机的预览的功能的时候，我们的手机就会弹出一个提示框，提醒用户是否允许我们的app使用相机（也就是提供相机的权限）。这就相机权限就叫运行时权限，简而言之就是我们当我们需要某一项功能的时候所需要的权限。\n\n## 2.Android6.0之后我们为什么需要管理动态权限？\n就如上面所说的例子，当我们的用户不小心或者就是不想给相机权限时，我们的app就不能正常工作。所以这个时候我们就需要给用户一些友好的提示，或者最少不让app崩溃。这个时候我们就需要管理运行时权限了。\n\n\n## 3.在Android中如何加入运行权限管理？[API地址](https://developer.android.com/reference/android/support/v4/content/PermissionChecker.html)  \n运行时权限管理在代码中主要依靠几个类和几个方法来完成  \n1.PermissionChecker类（最主要的类）  \n主要提供检测权限的方法 \n\n2.PermissionChecker.checkSelfPermission(context,permission）（主要的方法）   \n用于检测当前是否有permission这个权限。                               \n主要返回3个值:(是个int类型的值)   \n* PERMISSION_GRANTED(0 (0x00000000)):有此权限   \n* PERMISSION_DENIED（-1 (0xffffffff)）: 没有此权限  \n* PERMISSION_DENIED_APP_OP （-2 (0xfffffffe)）:  权限被拒绝，因为不允许应用操作   \n\n3.context.shouldShowRequestPermissionRationale(permission)  \n这个方法主要用来获取是否应该显示具有请求权限的理由的UI。具体就是，这个方法会告诉你是否可以通过请求来显示友好的权限申请框。它会返回一个boolean值。   \n＊ true：表示可以申请。\n＊ false：表示不可以申请。（如果不能申请，就可以自己做一些事情）\n\n4.requestPermissions(@NonNull String[] permissions, int requestCode)      \n申请请求一组权限，此方法可以一次申请多个权限，通过OnRequestPermissionsResultCallback方法获得用户操作后的权限状态\n\n5.nRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults)这个方法用于接受申请权限后用户对权限操作的结果，可以看出来结果和权限时以一对的形式出现的。比如说permission[0] 对应grantResults[0],以此类推。\ngrantRsults的值也是3种类型和2中返回的类型是相同的，我们只需要对不同的类型进行判断就行了。\n\n## 4.说再多都不如看代码\n\n```java    \n  /**\n     * Activity\n     * 判断权限\n     * 主要判断权限6.0以上的机型\n     * 需要在调用此方法的类中实现 onRequestPermissionsResult\n     */\n    @TargetApi(Build.VERSION_CODES.M)\n    public static void openMyActivityPermission(Activity context, String permission,int requestCode){\n        int result = PermissionChecker.checkSelfPermission(context,permission);\n        if (result == PermissionChecker.PERMISSION_GRANTED){\n            //有权限\n        }else {\n            //没有权限\n            //判断能否显示系统弹框\n            boolean isShow = context.shouldShowRequestPermissionRationale(permission);\n            if (!isShow){\n                //不能显示系统弹框，这里只能手动提示用户\n            }else {\n                //帮用户弹出系统弹框\n                context.requestPermissions(new String[]{permission},requestCode);\n            }\n        }\n    }\n    \n    //用户选择后回调\n    @Override\n    public void onRequestPermissionsResult(int requestCode,@NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode,permissions, grantResults);\n    }   \n```\n\n### 5.再说运行时权限管理\n这个运行时权限管理是goole6.0的加入的一个东西。但是在碎片化极其严重的android中，不可能只有6.0的手机。所以仅仅靠6.0是不现实的。所以我们还要更多的考虑6.0以下的权限适配问题。由于各个厂家的深度定制（鸡肋～～～），很多厂家都自己实现了运行时权限提醒等一系列温馨的功能（各种奇葩～～），所以这时就需要我们开发者自己想办法解决这些问题。   \n\n比如说6.0以下我们需要相机这个权限，但是用户在安装app的时候没有勾选相机权限，或者当弹出权限询问框的时候用户点击了禁止我们该怎么办。目前我知道的就只有try catch来解决这个问题。\n\n\n对于运行时权限问题就到这里，此文仅当记录自己遇到的坑～～～如有问题请予以纠正。谢谢。","slug":"permission-0","published":1,"updated":"2016-11-13T05:30:26.000Z","_id":"civg7312b0000q0p5i3lh0eda","comments":1,"layout":"post","photos":[],"link":"","content":"<h1 id=\"Android-动态权限管理\"><a href=\"#Android-动态权限管理\" class=\"headerlink\" title=\"Android 动态权限管理\"></a>Android 动态权限管理</h1><p>从Android 6.0（API级别23）开始，用户在应用运行时（而不是在安装应用时）向应用授予权限。 此方法简化了应用安装过程，因为用户在安装或更新应用时不需要授予权限。 它还给用户更多的控制应用程序的功能; 例如，用户可以选择给摄像机应用访问摄像机而不是设备位置。 用户可以随时通过转到应用的设置屏幕撤消权限。<a id=\"more\"></a></p>\n<h3 id=\"随着Android6-0的普及，我们不得不做的一件事情就是关于运行时权限管理的事情。\"><a href=\"#随着Android6-0的普及，我们不得不做的一件事情就是关于运行时权限管理的事情。\" class=\"headerlink\" title=\"随着Android6.0的普及，我们不得不做的一件事情就是关于运行时权限管理的事情。\"></a>随着Android6.0的普及，我们不得不做的一件事情就是关于运行时权限管理的事情。</h3><h2 id=\"1-什么叫运行时权限管理？\"><a href=\"#1-什么叫运行时权限管理？\" class=\"headerlink\" title=\"1.什么叫运行时权限管理？\"></a>1.什么叫运行时权限管理？</h2><p>比如说，我们在app中打开相机的预览的功能的时候，我们的手机就会弹出一个提示框，提醒用户是否允许我们的app使用相机（也就是提供相机的权限）。这就相机权限就叫运行时权限，简而言之就是我们当我们需要某一项功能的时候所需要的权限。</p>\n<h2 id=\"2-Android6-0之后我们为什么需要管理动态权限？\"><a href=\"#2-Android6-0之后我们为什么需要管理动态权限？\" class=\"headerlink\" title=\"2.Android6.0之后我们为什么需要管理动态权限？\"></a>2.Android6.0之后我们为什么需要管理动态权限？</h2><p>就如上面所说的例子，当我们的用户不小心或者就是不想给相机权限时，我们的app就不能正常工作。所以这个时候我们就需要给用户一些友好的提示，或者最少不让app崩溃。这个时候我们就需要管理运行时权限了。</p>\n<h2 id=\"3-在Android中如何加入运行权限管理？API地址\"><a href=\"#3-在Android中如何加入运行权限管理？API地址\" class=\"headerlink\" title=\"3.在Android中如何加入运行权限管理？API地址\"></a>3.在Android中如何加入运行权限管理？<a href=\"https://developer.android.com/reference/android/support/v4/content/PermissionChecker.html\" target=\"_blank\" rel=\"external\">API地址</a></h2><p>运行时权限管理在代码中主要依靠几个类和几个方法来完成<br>1.PermissionChecker类（最主要的类）<br>主要提供检测权限的方法 </p>\n<p>2.PermissionChecker.checkSelfPermission(context,permission）（主要的方法）<br>用于检测当前是否有permission这个权限。<br>主要返回3个值:(是个int类型的值)   </p>\n<ul>\n<li>PERMISSION_GRANTED(0 (0x00000000)):有此权限   </li>\n<li>PERMISSION_DENIED（-1 (0xffffffff)）: 没有此权限  </li>\n<li>PERMISSION_DENIED_APP_OP （-2 (0xfffffffe)）:  权限被拒绝，因为不允许应用操作   </li>\n</ul>\n<p>3.context.shouldShowRequestPermissionRationale(permission)<br>这个方法主要用来获取是否应该显示具有请求权限的理由的UI。具体就是，这个方法会告诉你是否可以通过请求来显示友好的权限申请框。它会返回一个boolean值。<br>＊ true：表示可以申请。<br>＊ false：表示不可以申请。（如果不能申请，就可以自己做一些事情）</p>\n<p>4.requestPermissions(@NonNull String[] permissions, int requestCode)<br>申请请求一组权限，此方法可以一次申请多个权限，通过OnRequestPermissionsResultCallback方法获得用户操作后的权限状态</p>\n<p>5.nRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults)这个方法用于接受申请权限后用户对权限操作的结果，可以看出来结果和权限时以一对的形式出现的。比如说permission[0] 对应grantResults[0],以此类推。<br>grantRsults的值也是3种类型和2中返回的类型是相同的，我们只需要对不同的类型进行判断就行了。</p>\n<h2 id=\"4-说再多都不如看代码\"><a href=\"#4-说再多都不如看代码\" class=\"headerlink\" title=\"4.说再多都不如看代码\"></a>4.说再多都不如看代码</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/**</span></div><div class=\"line\">   * Activity</div><div class=\"line\">   * 判断权限</div><div class=\"line\">   * 主要判断权限6.0以上的机型</div><div class=\"line\">   * 需要在调用此方法的类中实现 onRequestPermissionsResult</div><div class=\"line\">   */</div><div class=\"line\">  <span class=\"meta\">@TargetApi</span>(Build.VERSION_CODES.M)</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">openMyActivityPermission</span><span class=\"params\">(Activity context, String permission,<span class=\"keyword\">int</span> requestCode)</span></span>&#123;</div><div class=\"line\">      <span class=\"keyword\">int</span> result = PermissionChecker.checkSelfPermission(context,permission);</div><div class=\"line\">      <span class=\"keyword\">if</span> (result == PermissionChecker.PERMISSION_GRANTED)&#123;</div><div class=\"line\">          <span class=\"comment\">//有权限</span></div><div class=\"line\">      &#125;<span class=\"keyword\">else</span> &#123;</div><div class=\"line\">          <span class=\"comment\">//没有权限</span></div><div class=\"line\">          <span class=\"comment\">//判断能否显示系统弹框</span></div><div class=\"line\">          <span class=\"keyword\">boolean</span> isShow = context.shouldShowRequestPermissionRationale(permission);</div><div class=\"line\">          <span class=\"keyword\">if</span> (!isShow)&#123;</div><div class=\"line\">              <span class=\"comment\">//不能显示系统弹框，这里只能手动提示用户</span></div><div class=\"line\">          &#125;<span class=\"keyword\">else</span> &#123;</div><div class=\"line\">              <span class=\"comment\">//帮用户弹出系统弹框</span></div><div class=\"line\">              context.requestPermissions(<span class=\"keyword\">new</span> String[]&#123;permission&#125;,requestCode);</div><div class=\"line\">          &#125;</div><div class=\"line\">      &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">  </div><div class=\"line\">  <span class=\"comment\">//用户选择后回调</span></div><div class=\"line\">  <span class=\"meta\">@Override</span></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onRequestPermissionsResult</span><span class=\"params\">(<span class=\"keyword\">int</span> requestCode,@NonNull String[] permissions, @NonNull <span class=\"keyword\">int</span>[] grantResults)</span> </span>&#123;</div><div class=\"line\">      <span class=\"keyword\">super</span>.onRequestPermissionsResult(requestCode,permissions, grantResults);</div><div class=\"line\">  &#125;</div></pre></td></tr></table></figure>\n<h3 id=\"5-再说运行时权限管理\"><a href=\"#5-再说运行时权限管理\" class=\"headerlink\" title=\"5.再说运行时权限管理\"></a>5.再说运行时权限管理</h3><p>这个运行时权限管理是goole6.0的加入的一个东西。但是在碎片化极其严重的android中，不可能只有6.0的手机。所以仅仅靠6.0是不现实的。所以我们还要更多的考虑6.0以下的权限适配问题。由于各个厂家的深度定制（鸡肋～～～），很多厂家都自己实现了运行时权限提醒等一系列温馨的功能（各种奇葩～～），所以这时就需要我们开发者自己想办法解决这些问题。   </p>\n<p>比如说6.0以下我们需要相机这个权限，但是用户在安装app的时候没有勾选相机权限，或者当弹出权限询问框的时候用户点击了禁止我们该怎么办。目前我知道的就只有try catch来解决这个问题。</p>\n<p>对于运行时权限问题就到这里，此文仅当记录自己遇到的坑～～～如有问题请予以纠正。谢谢。</p>\n","excerpt":"<h1 id=\"Android-动态权限管理\"><a href=\"#Android-动态权限管理\" class=\"headerlink\" title=\"Android 动态权限管理\"></a>Android 动态权限管理</h1><p>从Android 6.0（API级别23）开始，用户在应用运行时（而不是在安装应用时）向应用授予权限。 此方法简化了应用安装过程，因为用户在安装或更新应用时不需要授予权限。 它还给用户更多的控制应用程序的功能; 例如，用户可以选择给摄像机应用访问摄像机而不是设备位置。 用户可以随时通过转到应用的设置屏幕撤消权限。","more":"</p>\n<h3 id=\"随着Android6-0的普及，我们不得不做的一件事情就是关于运行时权限管理的事情。\"><a href=\"#随着Android6-0的普及，我们不得不做的一件事情就是关于运行时权限管理的事情。\" class=\"headerlink\" title=\"随着Android6.0的普及，我们不得不做的一件事情就是关于运行时权限管理的事情。\"></a>随着Android6.0的普及，我们不得不做的一件事情就是关于运行时权限管理的事情。</h3><h2 id=\"1-什么叫运行时权限管理？\"><a href=\"#1-什么叫运行时权限管理？\" class=\"headerlink\" title=\"1.什么叫运行时权限管理？\"></a>1.什么叫运行时权限管理？</h2><p>比如说，我们在app中打开相机的预览的功能的时候，我们的手机就会弹出一个提示框，提醒用户是否允许我们的app使用相机（也就是提供相机的权限）。这就相机权限就叫运行时权限，简而言之就是我们当我们需要某一项功能的时候所需要的权限。</p>\n<h2 id=\"2-Android6-0之后我们为什么需要管理动态权限？\"><a href=\"#2-Android6-0之后我们为什么需要管理动态权限？\" class=\"headerlink\" title=\"2.Android6.0之后我们为什么需要管理动态权限？\"></a>2.Android6.0之后我们为什么需要管理动态权限？</h2><p>就如上面所说的例子，当我们的用户不小心或者就是不想给相机权限时，我们的app就不能正常工作。所以这个时候我们就需要给用户一些友好的提示，或者最少不让app崩溃。这个时候我们就需要管理运行时权限了。</p>\n<h2 id=\"3-在Android中如何加入运行权限管理？API地址\"><a href=\"#3-在Android中如何加入运行权限管理？API地址\" class=\"headerlink\" title=\"3.在Android中如何加入运行权限管理？API地址\"></a>3.在Android中如何加入运行权限管理？<a href=\"https://developer.android.com/reference/android/support/v4/content/PermissionChecker.html\">API地址</a></h2><p>运行时权限管理在代码中主要依靠几个类和几个方法来完成<br>1.PermissionChecker类（最主要的类）<br>主要提供检测权限的方法 </p>\n<p>2.PermissionChecker.checkSelfPermission(context,permission）（主要的方法）<br>用于检测当前是否有permission这个权限。<br>主要返回3个值:(是个int类型的值)   </p>\n<ul>\n<li>PERMISSION_GRANTED(0 (0x00000000)):有此权限   </li>\n<li>PERMISSION_DENIED（-1 (0xffffffff)）: 没有此权限  </li>\n<li>PERMISSION_DENIED_APP_OP （-2 (0xfffffffe)）:  权限被拒绝，因为不允许应用操作   </li>\n</ul>\n<p>3.context.shouldShowRequestPermissionRationale(permission)<br>这个方法主要用来获取是否应该显示具有请求权限的理由的UI。具体就是，这个方法会告诉你是否可以通过请求来显示友好的权限申请框。它会返回一个boolean值。<br>＊ true：表示可以申请。<br>＊ false：表示不可以申请。（如果不能申请，就可以自己做一些事情）</p>\n<p>4.requestPermissions(@NonNull String[] permissions, int requestCode)<br>申请请求一组权限，此方法可以一次申请多个权限，通过OnRequestPermissionsResultCallback方法获得用户操作后的权限状态</p>\n<p>5.nRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults)这个方法用于接受申请权限后用户对权限操作的结果，可以看出来结果和权限时以一对的形式出现的。比如说permission[0] 对应grantResults[0],以此类推。<br>grantRsults的值也是3种类型和2中返回的类型是相同的，我们只需要对不同的类型进行判断就行了。</p>\n<h2 id=\"4-说再多都不如看代码\"><a href=\"#4-说再多都不如看代码\" class=\"headerlink\" title=\"4.说再多都不如看代码\"></a>4.说再多都不如看代码</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/**</div><div class=\"line\">   * Activity</div><div class=\"line\">   * 判断权限</div><div class=\"line\">   * 主要判断权限6.0以上的机型</div><div class=\"line\">   * 需要在调用此方法的类中实现 onRequestPermissionsResult</div><div class=\"line\">   */</span></div><div class=\"line\">  <span class=\"meta\">@TargetApi</span>(Build.VERSION_CODES.M)</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">openMyActivityPermission</span><span class=\"params\">(Activity context, String permission,<span class=\"keyword\">int</span> requestCode)</span></span>&#123;</div><div class=\"line\">      <span class=\"keyword\">int</span> result = PermissionChecker.checkSelfPermission(context,permission);</div><div class=\"line\">      <span class=\"keyword\">if</span> (result == PermissionChecker.PERMISSION_GRANTED)&#123;</div><div class=\"line\">          <span class=\"comment\">//有权限</span></div><div class=\"line\">      &#125;<span class=\"keyword\">else</span> &#123;</div><div class=\"line\">          <span class=\"comment\">//没有权限</span></div><div class=\"line\">          <span class=\"comment\">//判断能否显示系统弹框</span></div><div class=\"line\">          <span class=\"keyword\">boolean</span> isShow = context.shouldShowRequestPermissionRationale(permission);</div><div class=\"line\">          <span class=\"keyword\">if</span> (!isShow)&#123;</div><div class=\"line\">              <span class=\"comment\">//不能显示系统弹框，这里只能手动提示用户</span></div><div class=\"line\">          &#125;<span class=\"keyword\">else</span> &#123;</div><div class=\"line\">              <span class=\"comment\">//帮用户弹出系统弹框</span></div><div class=\"line\">              context.requestPermissions(<span class=\"keyword\">new</span> String[]&#123;permission&#125;,requestCode);</div><div class=\"line\">          &#125;</div><div class=\"line\">      &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">  </div><div class=\"line\">  <span class=\"comment\">//用户选择后回调</span></div><div class=\"line\">  <span class=\"meta\">@Override</span></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onRequestPermissionsResult</span><span class=\"params\">(<span class=\"keyword\">int</span> requestCode,@NonNull String[] permissions, @NonNull <span class=\"keyword\">int</span>[] grantResults)</span> </span>&#123;</div><div class=\"line\">      <span class=\"keyword\">super</span>.onRequestPermissionsResult(requestCode,permissions, grantResults);</div><div class=\"line\">  &#125;</div></pre></td></tr></table></figure>\n<h3 id=\"5-再说运行时权限管理\"><a href=\"#5-再说运行时权限管理\" class=\"headerlink\" title=\"5.再说运行时权限管理\"></a>5.再说运行时权限管理</h3><p>这个运行时权限管理是goole6.0的加入的一个东西。但是在碎片化极其严重的android中，不可能只有6.0的手机。所以仅仅靠6.0是不现实的。所以我们还要更多的考虑6.0以下的权限适配问题。由于各个厂家的深度定制（鸡肋～～～），很多厂家都自己实现了运行时权限提醒等一系列温馨的功能（各种奇葩～～），所以这时就需要我们开发者自己想办法解决这些问题。   </p>\n<p>比如说6.0以下我们需要相机这个权限，但是用户在安装app的时候没有勾选相机权限，或者当弹出权限询问框的时候用户点击了禁止我们该怎么办。目前我知道的就只有try catch来解决这个问题。</p>\n<p>对于运行时权限问题就到这里，此文仅当记录自己遇到的坑～～～如有问题请予以纠正。谢谢。</p>"}],"PostAsset":[],"PostCategory":[],"PostTag":[],"Tag":[]}}